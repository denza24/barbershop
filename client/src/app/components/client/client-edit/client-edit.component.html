<div *ngIf="client">
  <div class="modal-header">
    <h4>Edit Client</h4>
    <hr />
  </div>

  <div class="modal-body">
    <form
      #editClientForm="ngForm"
      autocomplete="off"
      (ngSubmit)="updateClient()"
      class="p-2"
    >
      <div class="row">
        <div class="col-md-6 mb-3 p-0">
          <label for="firstName" class="lh form-label">First Name</label>
          <input
            class="form-control"
            type="text"
            [(ngModel)]="client.firstName"
            id="firstName"
            name="firstName"
            required
            maxLength="50"
          />
        </div>
        <div class="col-md-6 ps-3 p-0">
          <label for="lastName" class="lh form-label">Last Name</label>
          <input
            class="form-control"
            type="text"
            [(ngModel)]="client.lastName"
            id="lastName"
            name="lastName"
            required
            maxlength="50"
          />
        </div>
      </div>
      <div class="row">
        <div class="mb-3 col-8 p-0">
          <label for="phoneNumber" class="lh form-label">Phone</label>
          <label
            *ngIf="
              phoneNumber.invalid &&
              (phoneNumber.dirty || phoneNumber.touched) &&
              phoneNumber.errors?.pattern
            "
            class="invalid"
          >
            Phone Number is not in the correct format.
          </label>
          <input
            class="form-control"
            type="text"
            placeholder="(XXX)/XXX-XXX"
            [(ngModel)]="client.phoneNumber"
            id="phoneNumber"
            name="phoneNumber"
            pattern="\(?\d{3}\)?[-\/]?(\d{3,4})-?(\d{3})"
            #phoneNumber="ngModel"
          />
        </div>
        <div class="col-4 mt-2 d-flex align-items-center p-0 ps-3">
          <div class="form-check">
            <input
              class="form-check-input"
              type="checkbox"
              id="smsNotification"
              [(ngModel)]="client.smsNotification"
              name="smsNotification"
            />
            <label class="form-check-label" for="smsNotification">
              SMS Notification
            </label>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="mb-3 col-8 p-0">
          <label for="email" class="lh form-label">Email</label>
          <label
            *ngIf="
              email.invalid &&
              (email.dirty || email.touched) &&
              email.errors?.email
            "
            class="invalid"
          >
            Email is not in the correct format.
          </label>
          <input
            class="form-control"
            type="email"
            [(ngModel)]="client.email"
            id="email"
            name="email"
            email
            #email="ngModel"
          />
        </div>
        <div class="col-4 mt-2 d-flex align-items-center p-0 ps-3">
          <div class="form-check">
            <input
              class="form-check-input"
              type="checkbox"
              id="emailNotification"
              [(ngModel)]="client.emailNotification"
              name="emailNotification"
            />
            <label class="form-check-label" for="emailNotification">
              Email Notification
            </label>
          </div>
        </div>
      </div>
      <hr />
      <div>
        <button
          class="btn btn-success me-2"
          type="submit"
          [disabled]="!editClientForm.valid || !editClientForm.dirty"
        >
          Save
        </button>
        <button class="btn btn-secondary me-2" (click)="cancel()" type="button">
          Cancel
        </button>
      </div>
    </form>
  </div>
</div>
